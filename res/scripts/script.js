let currentTime=null;function fetchWorldTime(){fetch("https://worldtimeapi.org/api/ip").then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{var{datetime:e,utc_offset:t}=e,t=parseInt(t.replace(":",""));(currentTime=new Date(e)).setUTCMinutes(currentTime.getUTCMinutes()+t),updateFormattedTime()}).catch(e=>{console.error("Error fetching world time:",e),setInterval(()=>{resetTimeConnection()},15e3),$("#time-text").text("Resetting connection for 15 seconds...")})}function updateFormattedTime(){var e;currentTime&&(e=currentTime.toLocaleTimeString("en-US",{timeZone:"Asia/Kuala_Lumpur"}),e=`${["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"][currentTime.getUTCDay()]} / ${e.substr(0,8)} KUALA LUMPUR`,$("#time-text").text(e))}function resetTimeConnection(){currentTime=null,fetchWorldTime()}function incrementTime(){currentTime&&(currentTime.setSeconds(currentTime.getSeconds()+1),updateFormattedTime())}fetchWorldTime(),setInterval(incrementTime,1e3);